# gtts-scripts
Скрипты для предварительной обработки текста книг для их прослушивания в text-to-speech движках

Использовать совместно со словарем, находящимся тут: https://github.com/Balamoote/gtts-dic</br>
Использовать совместно с TTSLexx, находящимся тут: https://play.google.com/store/apps/details?id=sia.netttsengine.ttslexx</br>
Возможно использовать совместно со скриптом обработки книг fb2: https://github.com/Balamoote/fb2-scripts

Скрипты в основном предназначены для получения улучшенного звучания на движке Google TTS, встроенного движка Android.
(Убрать "гуглоспецифичную" разметку можно с помощью скрипта ./stripper.sh, что даст ёфицированный текст с ударениями в омографах)

В настоящий момент производится плавный переезд на скрипт, опирающийся на морфологический анализ по словарю. Это дает многократное увеличение скорости
и охвата. Относительно полно в автоматическом режиме обрабатывается пара все/всё. Устаревшие скрипты sed (в том числе omofix.sh) пока доступны/подключены.

При использовании дополнительно к автоматической еще и ручной обработки омографов через дискретные скрипты, можно добиться 100% обработки всех омографов в тексте.

Документация находится внутри папки tools/docs (часто является устаревшей), а также в самих скриптах.

Могут быть полезны и для других движков после адаптации. Например, скрипт ёфикации (yofik.sh) может считаться полностью независимым от движка GTTS,
но он не ставит задачи ёфикации омографов, кроме все/всё. Эту задачу выполняет скрипт momo.sh, а проставление ударений в именах собственных делает get-words.sh.
Эти два последних скрипта часто добавляют служебные символы для коррекции произношения в gtts. Такие символы можно убрать либо из готового текста с помощью
скрипта stripper.sh, либо самостоятельно почистить от них соответствующие словари.

Стандартная последовательность обработки для получения ёфицированного текста с ударениями с именах и омографах (ключ -gg  включает большинство опций):
(опционально: ./fb2fix.sh -gc book.fb2 = делает почти то же, что и "генеральная уборка" в FictionBook Editor)
./yofik.sh -gg book.fb2     = ёфикация, кроме омографов, которые при желании можно обработать вручную.
./get-words.sh -gg book.fb2 = проставить ударения в известных именах и собрать неизвестные имена и слова для внесения в базы
./momo.sh -gg book.fb2      = выполнить автообработку омографов и при желании вручную обработать остатки.

В tools находится рабочий комплект для обработки книг.

В bases находятся различные словарные базы, потенциально имеющие некоторый технически и академический интерес. Практического
смысла в них почти нет. Можете их смело игнорировать.
